<%= content_tag :h3, 'Pending Users' %>
<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Details</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% @users.each do |u| %>
        <tr>
          <td><%= u.id %></td>
          <td><% if u.userable_type == "CoopUser" %>
              <% @coop = CoopUser.find(u.userable_id) %>
              <strong><%= @coop %></strong>
            <% elsif u.userable_type == "Employee" %>
              <% emp = Employee.find(u.userable_id) %>
              <strong><%= emp %></strong> <%= emp.designation %>
            <% end %> <br>
            <small><%= u.email %> | <%= u.userable_type %> </small> | 
            <%= content_tag :span, 'Pending', class: "badge rounded-pill text-bg-warning" unless u.approved %>
          </td>
          <td>
            <%= link_to '<i class="bi bi-check-circle"></i> Approve'.html_safe, approved_user_path(u),  data: { turbo_confirm: 'Are you sure?' }, class: 'btn btn-primary btn-sm' %>
            <%#= link_to 'View', product_benefit, class: 'btn' %>
            <%#= link_to 'Edit', edit_product_benefit_path(product_benefit), class: 'btn' %>
            <%#= link_to 'Delete', product_benefit, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
