<div class="<%= flex_justify_align('between', 'center') %> gap-1 mb-3">
  <%= content_tag :h4, "Check Voucher Requests", class: 'text-primary mb-0' %>
  <% if @pagy.pages > 1 %>
    <%== pagy_bootstrap_nav(@pagy) %>
  <% end %>
</div>
<table class="table table-bordered table-hover bg-white table-sm">
    <thead class="table-dark">
      <tr>
        <th class="text-center" scope="col">Payee</th>
        <th class="text-center" scope="col">Type</th>
        <th class="text-center" scope="col">Requested by</th>
        <th class="text-center" scope="col">Amount</th>
        <th class="text-center" scope="col">Status</th>
        <th class="text-center" scope="col">Voucher</th>
      </tr>
    </thead>

    <tbody id="batches_body">
      <% if @claim_requests.present? %> 

        <% @claim_requests.each do |request| %>
          <tr>
            <td class=""><%= request.requestable.cooperative %></td>
            <td class="text-center"><%= request.payment_type.humanize.upcase %></td>
            <td class="text-center"><%= to_curr request.analyst %></td>
            <td class="text-end"><%= to_curr request.amount %></td>
            <td class="text-center">
                <span class="text-<%= request.decorate.status_color %>"><%= request.status.titleize %></span>
            </td>
            <td class="text-center">
              <% if request.check_vouchers.present? %>
                <%= link_to accounting_check_voucher_request_path(request), class: small_btn('success') do %>
                  <i class="bi bi-receipt"></i>
                  Generated vouchers
                <% end%>
              <% else %>
                <%= link_to new_accounting_check_path(rid: request.id), class: 'btn btn-sm btn-primary', data: {turbo_frame: 'modal'}, title: "Generate Check Voucher" do %>
                  <i class="bi bi-receipt-cutoff"></i>
                  Generate
                <% end %>
              <% end %>
            </td>
          </tr>

        <% end %>

      <% else %>
        <tr>
          <td colspan="6" class="text-center">No requests found</td>
        </tr>
      <% end %>

    </tbody>
  </table>